{"ts":1379260007817,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"(function ($) {\r\n   \r\n    var root = this,\r\n    \r\n        MyMemoryTranslator;\r\n        \r\n    \r\n    MyMemoryTranslator = function () {\r\n    \r\n        var self = this;\r\n        \r\n        self.from = \"\";\r\n        self.to = \"\";\r\n        self.text = \"\";\r\n        \r\n        var fixText = function (text) {\r\n            return $.trim(text.replace(/(\\r\\n|\\r|\\n)/gm,\" \").replace(/\\s+/g,\" \"));\r\n        };\r\n    \r\n        self.setTranslations = function (text, from, to) {\r\n            //console.log(\"Setting TEXT:\", text, \"Setting FROM/TO:\", from, to);\r\n            self.text = text;\r\n            self.from = from;\r\n            self.to = to;\r\n        };\r\n        self.getBaseUrl = function () {\r\n            return \"http://api.mymemory.translated.net/get?of=json&de=gogromat@gmail.com\";\r\n        };\r\n        self.getFromLangArg = function () {\r\n            return \"&langpair=\" + self.from;\r\n        };\r\n        self.getToLangArg = function () {\r\n            return \"|\" + self.to;\r\n        };\r\n        self.getTextArg = function () {\r\n            return \"&q=\" + self.text;\r\n        };\r\n        self.getUrl = function () {\r\n            return self.getBaseUrl() +\r\n                self.getTextArg() +\r\n                self.getFromLangArg() +\r\n                self.getToLangArg();\r\n        };\r\n        self.getResultObj = function (jqXHR) {\r\n            //console.log(\"jqXHR Result: \",jqXHR, jqXHR[self.text]);\r\n            return {\r\n                \"from\": self.from,\r\n                \"to\": self.to,\r\n                \"text\": self.text,\r\n                \"result\": fixText(jqXHR.responseData.translatedText)\r\n            };\r\n        };\r\n        \r\n        self.ajaxCall = function () {\r\n            console.log(\"MyMemory!\", \"URL: \", self.getUrl());\r\n            return $.ajax({\r\n                url: self.getUrl(),\r\n                dataType: 'json',\r\n                scriptCharset: \"utf-8\"\r\n            });\r\n        };  \r\n    };\r\n    \r\n    root.MyMemoryTranslator = MyMemoryTranslator;\r\n    \r\n}).call(this, jQuery);"]],"start1":0,"start2":0,"length1":0,"length2":1999}]],"length":1999}
{"contributors":[],"silentsave":false,"ts":1379260015504,"patch":[[{"diffs":[[0,"        "],[1,"//"],[0,"console."]],"start1":1675,"start2":1675,"length1":16,"length2":18}]],"length":2001,"saved":false}
