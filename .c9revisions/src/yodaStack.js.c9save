{"ts":1379208845433,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\"use strict\";\r\n\r\n(function ($) {\r\n    \r\n    var root = this,\r\n    \r\n        HtmlStack,\r\n        \r\n        YodaLanguagesSet = root.YodaCurrentLanguageSet;\r\n    \r\n    var fixText = function (text) {\r\n        return $.trim(text.replace(/(\\r\\n|\\r|\\n)/gm,\" \").replace(/\\s+/g,\" \"));\r\n    };\r\n\r\n    // Html Elements Stack\r\n    HtmlStack = function (options) {\r\n          \r\n        var self = this;\r\n          \r\n        self.options = {\r\n            items : \"\",\r\n            addItems: \"\",\r\n            toggleElements: \".toggle_elements\"\r\n        };\r\n        \r\n        $.extend(self.options, options);\r\n        \r\n        self.restart();\r\n    };\r\n    \r\n    HtmlStack.prototype.restart = function () {\r\n        \r\n        var self = this;\r\n        \r\n        // Un-registed previous results\r\n        if (self.addItemsStack) {\r\n            $.each(self.addItemsStack, function (i, e) {\r\n                $(e).off();\r\n            });  \r\n        }\r\n        \r\n        // (re)calculate the stacks\r\n        self.registerStacks();\r\n        \r\n        // Clean and Show hidden elements\r\n        self.toggleMiddleElements();\r\n        \r\n        // Remove elements on \"remove\" click\r\n        self.registerRemoveListeners();\r\n        \r\n        // Add elements on \"add\" click\r\n        self.registerAddListeners();\r\n        \r\n        // empty deferred object\r\n        self.deferred = {};        \r\n    };\r\n    \r\n    HtmlStack.prototype.registerStacks = function () {\r\n        var self = this; \r\n        self.stack = [],\r\n        self.addItemsStack = [];\r\n        \r\n        // Populate stack of elements we will be working on\r\n        $.each($(self.options.items), function (i, e) {\r\n            self.pushObject(e);\r\n        });\r\n        $.each($(self.options.addItems), function (i, e) {\r\n            self.addItemsStack.push($(e));\r\n        });\r\n    };\r\n      \r\n    HtmlStack.prototype.getStackSize = function () {\r\n        return this.stack.length;\r\n    };\r\n      \r\n    HtmlStack.prototype.getHtmlElements = function (element) {\r\n        \r\n        var object       = $(element),\r\n            conversion   = $(element).find(\".conversion\"),\r\n            progressDivs = $(element).find(\".yoda\")[0],\r\n            removeDivs   = $(element).find(\".remove\")[0],\r\n            selectoid    = $($(element).find(\".selectoid\")[0]);\r\n        \r\n        this.addSelectoid(selectoid);\r\n        \r\n        var result = {\r\n            object: object,\r\n            element: conversion,\r\n            progress: (typeof progressDivs === \"undefined\" ? [] : root.YodaProgress(progressDivs)),\r\n            language:  conversion.find(\".selectoid_select > option:selected\").val(),\r\n            textElement: $(conversion.find(\".conversion_div\")[0]),\r\n            removeElement: (typeof removeDivs === \"undefined\" ? [] : removeDivs)\r\n        };\r\n        result.text = fixText(result.textElement.text());\r\n        \r\n        return result;\r\n    };\r\n    \r\n    HtmlStack.prototype.addSelectoid = function (selectoidObject) {\r\n        \r\n        var selectoidObjectId = selectoidObject.attr(\"id\");\r\n        \r\n        if (!root.Selectoid[selectoidObjectId]) {\r\n            \r\n            var selectoid = new root.Selectoid({\r\n                object: selectoidObject,\r\n                data: YodaLanguagesSet.current,\r\n                parameters: {\r\n                    closeOnMouseLeave: false,\r\n                    closeOnFocusOut: false,\r\n                    button_class: \"galaxy\"\r\n                },\r\n                dataFormat: YodaLanguagesSet.currentFormat\r\n            });\r\n            \r\n        } else {\r\n            \r\n            var prevVal = $(\"#\" + root.Selectoid[selectoidObjectId].defaults.select).find(\"option:selected\").val();\r\n            \r\n            root.Selectoid[selectoidObjectId].changeData({\r\n               data: YodaLanguagesSet.current,\r\n               dataFormat: YodaLanguagesSet.currentFormat,\r\n               parameters: {\r\n                   initial: prevVal\r\n               }\r\n            });\r\n        }\r\n    };\r\n    \r\n      \r\n    HtmlStack.prototype.pushObject = function (element, force) {\r\n                  \r\n        this.stack.push(this.getHtmlElements(element));\r\n          \r\n        // allows to add text and result if needed (ex. initial value)\r\n        if (this.stack.length <= 1 || force) {\r\n            var current = this.getCurrent(),\r\n                text = current.text,\r\n                result = (this.stack.length <= 1 ? text : null);\r\n            current.text = text;\r\n            current.result = result;\r\n        }\r\n        //console.log(\"...pushing object onto stack\",this.stack[this.stack.length -1]);  \r\n    };\r\n    \r\n    HtmlStack.prototype.pushTranslations = function (resultObject) {\r\n        // todo look into how to modify it if necessary\r\n        // skip resultObject[from|to|text] for now\r\n        var elementWithoutResult = this.stack[this.getNextIndex()];\r\n        //console.log(\"...pushing new translation\", resultObject);\r\n        elementWithoutResult.text   = resultObject.text;\r\n        elementWithoutResult.result = resultObject.result;\r\n    };\r\n    \r\n    HtmlStack.prototype.getCurrentIndex = function () {\r\n        var current = 0;\r\n        for (var i=0, length = this.stack.length; i < length; i++) {\r\n            if (this.stack[i].result) current = i;\r\n            else break;\r\n        }\r\n        return current;\r\n    }; \r\n    HtmlStack.prototype.getNextIndex = function () {\r\n        var current = this.getCurrentIndex();\r\n        if (current == this.stack.length - 1) return current;\r\n        return current + 1;\r\n    };\r\n    HtmlStack.prototype.getCurrent = function () {\r\n        return this.stack[this.getCurrentIndex()];\r\n    };\r\n    HtmlStack.prototype.getCurrentElement = function () {\r\n        return this.stack[this.getCurrentIndex()].element;\r\n    };\r\n    HtmlStack.prototype.getNext = function () {\r\n        return this.stack[this.getNextIndex()];\r\n    };\r\n    HtmlStack.prototype.getNextElement = function () {\r\n        return this.stack[this.getNextIndex()].element;\r\n    };\r\n    HtmlStack.prototype.getCurrentText = function () {\r\n        return this.stack[this.getCurrentIndex()].text;\r\n    };\r\n    HtmlStack.prototype.getCurrentResult = function () {\r\n        return this.stack[this.getCurrentIndex()].result;  \r\n    };\r\n    HtmlStack.prototype.getCurrentStep = function () {\r\n        var r = this.getCurrent();\r\n        return [r.result, r.language, this.getNext().language];\r\n    };\r\n      \r\n      \r\n    HtmlStack.prototype.setNextText = function (text) {\r\n        var result = $.trim(this.getCurrentResult());\r\n        return this.slowTextInput(this.getCurrent().textElement, result);    \r\n    };\r\n      \r\n      \r\n    HtmlStack.prototype.slowTextInput = function (textElement, text) {\r\n        var deferred = Q.defer(),\r\n            promise = deferred.promise.when(\r\n                root.Teletype(textElement[0], text, 25, true, function (i, l) {\r\n                    deferred.notify( parseFloat((i+1)/l).toFixed(2) );\r\n                })\r\n            );\r\n        this.deferred = deferred;\r\n        return promise;\r\n    };\r\n      \r\n      \r\n    HtmlStack.prototype.registerRemoveListeners = function () {\r\n        var self = this;\r\n        \r\n        $.each(self.stack, function (i, e) {\r\n            $(e.removeElement).click(function () {\r\n                $(e.object).hide('slow', function () { \r\n                    $(self.addItemsStack[i]).hide('slow');\r\n                    $(self.addItemsStack[i]).remove();\r\n                    $(e.object).remove();\r\n                });\r\n                //todo: change to cleaner way\r\n                self.restart();\r\n            });\r\n        });\r\n        \r\n    };\r\n      \r\n    HtmlStack.prototype.registerAddListeners = function () {\r\n        var self = this;\r\n        \r\n        $.each(self.addItemsStack, function (i, e) {\r\n            \r\n            $(e).click(function () {\r\n                \r\n                var add_element = $(\"<li class='add_element'><i class='icon-plus-sign icon-4'></i>&nbsp;<span class='galaxy'>Add another</span></li>\"),\r\n                    element = $(\r\n                    \"<li class='element'>\" +\r\n                        \"<div class='yoda relative'></div>\" +\r\n                        \"<div class='conversion'>\" +\r\n                            \"<div class='leftSide'>\" +\r\n                                \"<div class='selectoid language' data-initial='en'></div><br>\" +\r\n                                \"<button class='galaxy remove'><i class='icon-minus-sign'></i>&nbsp;remove</button>\" +\r\n                            \"</div>\" +\r\n                            \"<div class='conversion_div'></div>\" +\r\n                        \"</div>\" +\r\n                   \"</li>\");\r\n                \r\n                // Hide the newly generated element\r\n                element.hide();\r\n                // Hide newly generated add_element item\r\n                add_element.hide();\r\n                \r\n                \r\n                // Add newlygenereated element (in the DOM) after this add_element item\r\n                $(this).after(element);\r\n                \r\n                // Add selectoid to newly generated element\r\n                var newSelectoid = new root.Selectoid({\r\n                    object: $($(element).find(\".selectoid\")[0]),\r\n                    data: YodaLanguagesSet.current,\r\n                    parameters: { button_class: \"galaxy\" },\r\n                    dataFormat: YodaLanguagesSet.currentFormat\r\n                });\r\n                \r\n                // Show the newly generated element\r\n                element.slideDown();\r\n                \r\n                // Add newly generated add_element item (in the DOM) after newly generated element\r\n                $(element).after(add_element);\r\n                \r\n                // Show newly generated add_element item\r\n                add_element.slideDown();\r\n                \r\n                // recalculate stack, addItemStack\r\n                self.restart();\r\n            });\r\n        }); \r\n    };\r\n      \r\n      \r\n    HtmlStack.prototype.toggleMiddleElements = function (action, callback) {\r\n        var self = this,\r\n            stackSize = self.getStackSize();\r\n        action = action || \"show\";\r\n            \r\n        if (action === \"show\" && !callback) {\r\n            callback = function (e) { e.show(); };\r\n        }\r\n        if (action === \"hide\" && !callback) {\r\n            callback = function (e) { e.slideUp(2000); };\r\n        }\r\n        \r\n        if (!$.isEmptyObject(self.progress)) self.progress.toggle(\"hide\");\r\n        \r\n          \r\n        $.each(self.addItemsStack, function (i, e) {\r\n            if (action === \"hide\" || action === \"show\") callback(e);\r\n        });\r\n        \r\n        $.each(self.stack, function (i, e) {\r\n            \r\n            // in-the-middle elements\r\n            if (i != 0 && i != stackSize - 1) {\r\n              \r\n                //todo: progress objects re-init, hide\r\n                //e.textElement.text(\"\");\r\n                if (action === \"hide\" || action === \"show\") callback(e.object);\r\n            }  \r\n        });\r\n        \r\n        if (action == \"hide\") {\r\n            \r\n            $(self.options.toggleElements).css(\"display\", \"block\");\r\n            \r\n        } else {\r\n            $(self.options.toggleElements).hide();\r\n        }\r\n    };\r\n    \r\n    root.YodaStack = HtmlStack;\r\n    \r\n}).call(this, jQuery);"]],"start1":0,"start2":0,"length1":0,"length2":11327}]],"length":11327}
{"contributors":[],"silentsave":false,"ts":1379208833104,"patch":[[{"diffs":[[0,"ction (text) {\r\n"],[1,"        console.log('setting next text')\r\n"],[0,"        var resu"]],"start1":6466,"start2":6466,"length1":32,"length2":74}]],"length":11369,"saved":false}
{"ts":1379208895506,"patch":[[{"diffs":[[0," {\r\n"],[-1,"        console.log('setting next text')\r\n"],[0,"    "]],"start1":6478,"start2":6478,"length1":50,"length2":8},{"diffs":[[0,"Result());\r\n"],[1,""],[0,"        retu"]],"start1":6525,"start2":6525,"length1":24,"length2":24},{"diffs":[[0,"ement, text) {\r\n"],[1,"        console.log('slow text input');\r\n"],[0,"        var defe"]],"start1":6696,"start2":6696,"length1":32,"length2":73},{"diffs":[[0,"ixed(2) );\r\n"],[-1,""],[0,"            "]],"start1":6975,"start2":6975,"length1":24,"length2":24},{"diffs":[[0,"      })"],[1,";"],[0,"\r\n      "]],"start1":6997,"start2":6997,"length1":16,"length2":17}]],"length":11369,"saved":false}
{"ts":1379208896529,"patch":[[{"diffs":[[0,"              })"],[-1,";"],[0,"\r\n            );"]],"start1":6989,"start2":6989,"length1":33,"length2":32}]],"length":11368,"saved":false}
{"ts":1379208935979,"patch":[[{"diffs":[[0,"t input'"],[1,", root.Teletype, textElement[0]"],[0,");\r\n    "]],"start1":6741,"start2":6741,"length1":16,"length2":47}]],"length":11399,"saved":false}
{"ts":1379211064542,"patch":[[{"diffs":[[0,"ut',"],[-1," root.Teletype, "],[0,"text"]],"start1":6746,"start2":6746,"length1":24,"length2":8}]],"length":11383,"saved":false}
{"ts":1379213722552,"patch":[[{"diffs":[[0,"        "],[1,"//"],[0,"console."]],"start1":6712,"start2":6712,"length1":16,"length2":18}]],"length":11385,"saved":false}
{"ts":1379214132268,"patch":[[{"diffs":[[-1,"\"use strict\";\r\n\r\n"],[0,"(fun"]],"start1":0,"start2":0,"length1":21,"length2":4}]],"length":11368,"saved":false}
{"contributors":[],"silentsave":false,"ts":1379214183131,"patch":[[{"diffs":[[0,"};\r\n      \r\n"],[-1,"      \r\n"],[0,"    HtmlStac"]],"start1":6388,"start2":6388,"length1":32,"length2":24},{"diffs":[[0,"};\r\n      \r\n"],[-1,"      \r\n"],[0,"    HtmlStac"]],"start1":6595,"start2":6595,"length1":32,"length2":24}]],"length":11352,"saved":false}
{"ts":1379214188643,"patch":[[{"diffs":[[0,"];\r\n    };\r\n    "],[-1,"  "],[0,"\r\n    HtmlStack."]],"start1":6380,"start2":6380,"length1":34,"length2":32},{"diffs":[[0,"  \r\n    };\r\n    "],[-1,"  "],[0,"\r\n    HtmlStack."]],"start1":6585,"start2":6585,"length1":34,"length2":32}]],"length":11348,"saved":false}
{"contributors":[],"silentsave":false,"ts":1379259461023,"patch":[[{"diffs":[[0,"        "],[1,"//"],[0,"initial:"]],"start1":3882,"start2":3882,"length1":16,"length2":18}]],"length":11350,"saved":false}
{"ts":1379259487296,"patch":[[{"diffs":[[0,"\r\n            \r\n"],[1,"            console.log(\"No prev val!\");\r\n            \r\n"],[0,"            root"]],"start1":3657,"start2":3657,"length1":32,"length2":88}]],"length":11406,"saved":false}
{"ts":1379259626163,"patch":[[{"diffs":[[0,"            "],[1,"//"],[0,"var prevVal "]],"start1":3542,"start2":3542,"length1":24,"length2":26},{"diffs":[[0,"        "],[1,"//"],[0,"console."]],"start1":3679,"start2":3679,"length1":16,"length2":18},{"diffs":[[0," val!\");"],[1," //en-GB\r\n            \r\n            "],[0,"\r\n      "]],"start1":3709,"start2":3709,"length1":16,"length2":52}]],"length":11446,"saved":false}
{"ts":1379259672213,"patch":[[{"diffs":[[0,"esSet.current,\r\n"],[1,"                dataFormat: YodaLanguagesSet.currentFormat,\r\n"],[0,"                "]],"start1":3216,"start2":3216,"length1":32,"length2":93},{"diffs":[[0," parameters: {\r\n"],[-1,""],[0,"                "]],"start1":3308,"start2":3308,"length1":32,"length2":32},{"diffs":[[0,"   }"],[-1,",\r\n                dataFormat: YodaLanguagesSet.currentFormat"],[0,"\r\n  "]],"start1":3473,"start2":3473,"length1":69,"length2":8},{"diffs":[[0,"\r\n            \r\n"],[1,""],[0,"            //co"]],"start1":3659,"start2":3659,"length1":32,"length2":32},{"diffs":[[0,"  \r\n"],[-1,"            \r\n            \r\n"],[0,"    "]],"start1":3737,"start2":3737,"length1":36,"length2":8}]],"length":11418,"saved":false}
{"ts":1379259737897,"patch":[[{"diffs":[[0,"\n               "],[1," "],[0,"data: YodaLangua"]],"start1":3800,"start2":3800,"length1":32,"length2":33},{"diffs":[[0,"esSet.current,\r\n"],[1," "],[0,"               d"]],"start1":3834,"start2":3834,"length1":32,"length2":33},{"diffs":[[0,"currentFormat,\r\n"],[1," "],[0,"               p"]],"start1":3895,"start2":3895,"length1":32,"length2":33},{"diffs":[[0,"        "],[1," "],[0,"//initia"]],"start1":3953,"start2":3953,"length1":16,"length2":17},{"diffs":[[0,"revVal\r\n"],[1," "],[0,"        "]],"start1":3974,"start2":3974,"length1":16,"length2":17}]],"length":11423,"saved":false}
{"ts":1379259781684,"patch":[[{"diffs":[[0,"  //"],[-1,"var prevVal = $(\"#\" + root.Selectoid[selectoidObjectId].defaults.select).find(\"option:selected\").val();\r\n            \r\n            //console.log(\"No prev val!\"); //en-GB\r\n            "],[1,"en-GB"],[0,"\r\n  "]],"start1":3552,"start2":3552,"length1":191,"length2":13}]],"length":11245,"saved":false}
{"ts":1379259871895,"patch":[[{"diffs":[[0," {\r\n            "],[1,"//var prevVal = $(\"#\" + root.Selectoid[selectoidObjectId].defaults.select).find(\"option:selected\").val();"],[0,"\r\n            //"]],"start1":3524,"start2":3524,"length1":32,"length2":137}]],"length":11350,"saved":false}
{"ts":1379275524668,"patch":[[{"diffs":[[0,"Result());\r\n"],[1,"        console.log(\"SetNextText...curr result:\",result, \"text:\", text);\r\n"],[0,"        retu"]],"start1":6500,"start2":6500,"length1":24,"length2":98},{"diffs":[[0,"ement, text) {\r\n"],[1,"        \r\n"],[0,"        //consol"]],"start1":6735,"start2":6735,"length1":32,"length2":42}]],"length":11434,"saved":false}
{"ts":1379275532331,"patch":[[{"diffs":[[0,"      \r\n        "],[-1,"//"],[0,"console.log('slo"]],"start1":6753,"start2":6753,"length1":34,"length2":32},{"diffs":[[0,"xt input"],[1,":"],[0,"',"],[1,"text, "],[0,"textElem"]],"start1":6789,"start2":6789,"length1":18,"length2":25},{"diffs":[[0,"ement[0]);\r\n"],[1,"        \r\n"],[0,"        var "]],"start1":6812,"start2":6812,"length1":24,"length2":34}]],"length":11449,"saved":false}
{"ts":1379275641238,"patch":[[{"diffs":[[0,"ext = function ("],[-1,"text"],[0,") {\r\n        var"]],"start1":6432,"start2":6432,"length1":36,"length2":32},{"diffs":[[0,"sult"],[-1,":\",result, \""],[1," ("],[0,"text"],[1,")"],[0,":\","],[-1," tex"],[1,"resul"],[0,"t);\r"]],"start1":6550,"start2":6550,"length1":31,"length2":23}]],"length":11437,"saved":false}
{"ts":1379275695816,"patch":[[{"diffs":[[0,"text):\","],[1,"result, typeof "],[0,"result);"]],"start1":6556,"start2":6556,"length1":16,"length2":31}]],"length":11452,"saved":false}
{"ts":1379275733887,"patch":[[{"diffs":[[0,"r result"],[1,"String"],[0," = $.tri"]],"start1":6463,"start2":6463,"length1":16,"length2":22},{"diffs":[[0,"\",result"],[1,"String"],[0,", typeof"]],"start1":6568,"start2":6568,"length1":16,"length2":22},{"diffs":[[0,"f result"],[1,"String"],[0,");\r\n    "]],"start1":6589,"start2":6589,"length1":16,"length2":22},{"diffs":[[0,", result"],[1,"String"],[0,");    \r\n"]],"start1":6670,"start2":6670,"length1":16,"length2":22},{"diffs":[[0,"t) {\r\n        \r\n"],[-1,""],[0,"        console."]],"start1":6772,"start2":6772,"length1":32,"length2":32},{"diffs":[[0,"input:',"],[1," "],[0,"text, te"]],"start1":6819,"start2":6819,"length1":16,"length2":17}]],"length":11477,"saved":false}
{"ts":1379275940799,"patch":[[{"diffs":[[0,"ction (i"],[-1,", l"],[1,"ndex, length"],[0,") {\r\n   "]],"start1":7008,"start2":7008,"length1":19,"length2":28},{"diffs":[[0,".notify("],[-1," "],[0,"parseFlo"]],"start1":7061,"start2":7061,"length1":17,"length2":16},{"diffs":[[0,"t((i"],[1,"ndex"],[0,"+1)/l"],[1,"ength"],[0,").to"]],"start1":7078,"start2":7078,"length1":13,"length2":22}]],"length":11494,"saved":false}
{"ts":1379275966780,"patch":[[{"diffs":[[0," length) {\r\n"],[1,"                    console.log(\"callback in:\", parseFloat((index+1)/length).toFixed(2) );\r\n"],[0,"            "]],"start1":7021,"start2":7021,"length1":24,"length2":116}]],"length":11586,"saved":false}
{"ts":1379276016206,"patch":[[{"diffs":[[0,"allback "],[-1,"in"],[1,"progress"],[0,":\", pars"]],"start1":7067,"start2":7067,"length1":18,"length2":24}]],"length":11592,"saved":false}
{"ts":1379276051342,"patch":[[{"diffs":[[0,"arseFloat((index"],[-1,"+"],[1," + "],[0,"1)/length).toFix"]],"start1":7088,"start2":7088,"length1":33,"length2":35}]],"length":11594,"saved":false}
{"ts":1379276053790,"patch":[[{"diffs":[[0,"dex + 1)"],[-1,"/"],[1," / "],[0,"length)."]],"start1":7101,"start2":7101,"length1":17,"length2":19}]],"length":11596,"saved":false}
{"ts":1379276060508,"patch":[[{"diffs":[[0,"ndex"],[-1,"+1)/"],[1," + 1) / "],[0,"leng"]],"start1":7184,"start2":7184,"length1":12,"length2":16}]],"length":11600,"saved":false}
{"ts":1379277304875,"patch":[[{"diffs":[[0,"    "],[-1,"console.log(\"callback progress:\", parseFloat((index + 1) / length).toFixed(2) );"],[1,"// deferred.notify(value) - causes promise to be notified of progress with value"],[0,"\r\n  "]],"start1":7049,"start2":7049,"length1":88,"length2":88}]],"length":11600,"saved":false}
{"ts":1379291108788,"patch":[[{"diffs":[[0,"erred;\r\n"],[1,"        \r\n"],[0,"        "]],"start1":7282,"start2":7282,"length1":16,"length2":26}]],"length":11610,"saved":false}
{"ts":1379291123079,"patch":[[{"diffs":[[0,"erred;\r\n        "],[1,"return deferred.promise;"],[0,"\r\n        return"]],"start1":7282,"start2":7282,"length1":32,"length2":56},{"diffs":[[0,"e;\r\n        "],[1,"//"],[0,"return promi"]],"start1":7320,"start2":7320,"length1":24,"length2":26}]],"length":11636,"saved":false}
{"ts":1379291186747,"patch":[[{"diffs":[[0,"d;\r\n        "],[1,"//"],[0,"return defer"]],"start1":7286,"start2":7286,"length1":24,"length2":26},{"diffs":[[0,"e;\r\n        "],[-1,"//"],[0,"return promi"]],"start1":7322,"start2":7322,"length1":26,"length2":24}]],"length":11636,"saved":false}
{"ts":1379291194570,"patch":[[{"diffs":[[0,"d;\r\n"],[-1,"        //return deferred.promise;\r\n"],[0,"    "]],"start1":7286,"start2":7286,"length1":44,"length2":8}]],"length":11600,"saved":false}
{"ts":1379291355657,"patch":[[{"diffs":[[0,"        "],[-1,"var "],[1,"this."],[0,"deferred"]],"start1":6862,"start2":6862,"length1":20,"length2":21},{"diffs":[[0,");\r\n"],[-1,"        this.deferred = deferred;\r\n"],[0,"    "]],"start1":7252,"start2":7252,"length1":43,"length2":8}]],"length":11566,"saved":false}
{"ts":1379291647069,"patch":[[{"diffs":[[0,".defer()"],[-1,","],[1,";"],[0,"\r\n      "]],"start1":6887,"start2":6887,"length1":17,"length2":17},{"diffs":[[0,"    "],[1,"\r\n  "],[0,"    "],[-1,"promise = "],[1,"  //return promise;\r\n        return this."],[0,"defe"]],"start1":6902,"start2":6902,"length1":22,"length2":57},{"diffs":[[0,".when(\r\n"],[-1,"    "],[0,"        "]],"start1":6971,"start2":6971,"length1":20,"length2":16},{"diffs":[[0,"        "],[-1,"  "],[-1,"  "],[0,"// defer"]],"start1":7073,"start2":7073,"length1":20,"length2":16},{"diffs":[[0,"        "],[-1,"    "],[1,"this."],[0,"deferred"]],"start1":7171,"start2":7171,"length1":20,"length2":21},{"diffs":[[0,"        "],[-1,"    "],[0,"})\r\n    "]],"start1":7252,"start2":7252,"length1":20,"length2":16},{"diffs":[[0,"    "],[-1,"    );\r\n        return promise"],[1,")"],[0,";\r\n "]],"start1":7268,"start2":7268,"length1":38,"length2":9}]],"length":11561,"saved":false}
{"ts":1379291689817,"patch":[[{"diffs":[[0," value\r\n"],[1,"                console.log(index, length);\r\n"],[0,"        "]],"start1":7155,"start2":7155,"length1":16,"length2":61}]],"length":11606,"saved":false}
{"ts":1379291697465,"patch":[[{"diffs":[[0,", length"],[1,", parseFloat((index + 1) / length).toFixed(2)"],[0,");\r\n    "]],"start1":7196,"start2":7196,"length1":16,"length2":61}]],"length":11651,"saved":false}
{"ts":1379291808647,"patch":[[{"diffs":[[0,"t) {\r\n        \r\n"],[1,"        var self = this;\r\n        \r\n"],[0,"        console."]],"start1":6772,"start2":6772,"length1":32,"length2":68},{"diffs":[[0,"      \r\n        "],[-1,"this"],[1,"self"],[0,".deferred = Q.de"]],"start1":6890,"start2":6890,"length1":36,"length2":36},{"diffs":[[0," return "],[-1,"this"],[1,"self"],[0,".deferre"]],"start1":6978,"start2":6978,"length1":20,"length2":20},{"diffs":[[0,"        "],[-1,"this"],[1,"self"],[0,".deferre"]],"start1":7297,"start2":7297,"length1":20,"length2":20}]],"length":11687,"saved":false}
{"ts":1379291853326,"patch":[[{"diffs":[[0,"                "],[1,"//"],[0,"console.log(inde"]],"start1":7199,"start2":7199,"length1":32,"length2":34}]],"length":11689,"saved":false}
{"ts":1379291866516,"patch":[[{"diffs":[[0,"t, text) {\r\n"],[-1,"        \r\n"],[0,"        var "]],"start1":6766,"start2":6766,"length1":34,"length2":24},{"diffs":[[0,"        "],[-1,"\r\n        "],[1,"//"],[0,"console."]],"start1":6804,"start2":6804,"length1":26,"length2":18},{"diffs":[[0,"ement[0]);\r\n"],[-1,"        \r\n"],[0,"        self"]],"start1":6858,"start2":6858,"length1":34,"length2":24},{"diffs":[[0,"Q.defer();\r\n"],[-1,"        \r\n"],[0,"        //re"]],"start1":6894,"start2":6894,"length1":34,"length2":24}]],"length":11651,"saved":false}
{"ts":1379292855822,"patch":[[{"diffs":[[0,"og(\""],[-1,"SetNextText...curr result (text):\",resultString, typeof "],[1,"Type of result: \",typeof resultString, \"Setting result text:\","],[0,"resu"]],"start1":6531,"start2":6531,"length1":64,"length2":70}]],"length":11657,"saved":false}
{"ts":1379292887232,"patch":[[{"diffs":[[0,"ltString);\r\n"],[1,"        // return a promise to-be-resolved\r\n"],[0,"        retu"]],"start1":6601,"start2":6601,"length1":24,"length2":68}]],"length":11701,"saved":false}
{"ts":1379292890989,"patch":[[{"diffs":[[0," function () {\r\n"],[1,"        \r\n"],[0,"        var resu"]],"start1":6437,"start2":6437,"length1":32,"length2":42},{"diffs":[[0,"Result());\r\n"],[1,"        \r\n"],[0,"        cons"]],"start1":6512,"start2":6512,"length1":24,"length2":34},{"diffs":[[0,"ltString);\r\n"],[1,"        \r\n"],[0,"        // r"]],"start1":6621,"start2":6621,"length1":24,"length2":34}]],"length":11731,"saved":false}
{"ts":1379292915077,"patch":[[{"diffs":[[0,"        var "],[1,"self = this,\r\n            "],[0,"resultString"]],"start1":6463,"start2":6463,"length1":24,"length2":50},{"diffs":[[0," $.trim("],[-1,"this"],[1,"self"],[0,".getCurr"]],"start1":6515,"start2":6515,"length1":20,"length2":20},{"diffs":[[0," text:\","],[1," "],[0,"resultSt"]],"start1":6635,"start2":6635,"length1":16,"length2":17},{"diffs":[[0," return "],[-1,"this"],[1,"self"],[0,".slowTex"]],"start1":6721,"start2":6721,"length1":20,"length2":20},{"diffs":[[0,"xtInput("],[-1,"this"],[1,"self"],[0,".getCurr"]],"start1":6740,"start2":6740,"length1":20,"length2":20}]],"length":11758,"saved":false}
{"contributors":[],"silentsave":false,"ts":1379382713794,"patch":[[{"diffs":[[0,"mise"],[-1,".when"],[0,"(\r\n "]],"start1":7072,"start2":7072,"length1":13,"length2":8}]],"length":11753,"saved":false}
{"ts":1379383003280,"patch":[[{"diffs":[[0," var self = this"],[1,",\r\n            promise"],[0,";\r\n"],[-1,""],[0,"        //consol"]],"start1":6892,"start2":6892,"length1":35,"length2":57},{"diffs":[[0,"e;\r\n        "],[-1,"return"],[1,"promise ="],[0," self.deferr"]],"start1":7058,"start2":7058,"length1":30,"length2":33},{"diffs":[[0,".promise"],[1,".when"],[0,"(\r\n     "]],"start1":7093,"start2":7093,"length1":16,"length2":21},{"diffs":[[0,"ype("],[-1,"textElement[0], text, 25, true,"],[1,"\r\n                textElement[0], \r\n                text, \r\n                30, \r\n                true, \r\n               "],[0," fun"]],"start1":7131,"start2":7131,"length1":39,"length2":129},{"diffs":[[0," length) {\r\n"],[1,"    "],[0,"            "]],"start1":7273,"start2":7273,"length1":24,"length2":28},{"diffs":[[0,"                "],[1,"    "],[0,"//console.log(in"]],"start1":7387,"start2":7387,"length1":32,"length2":36},{"diffs":[[0,"                "],[1,"    "],[0,"self.deferred.no"]],"start1":7483,"start2":7483,"length1":32,"length2":36},{"diffs":[[0,"    "],[1,"  "],[-1,"})\r\n        )"],[1,"  }\r\n            )\r\n        );\r\n        return promise"],[0,";\r\n "]],"start1":7580,"start2":7580,"length1":21,"length2":64}]],"length":11928,"saved":false}
{"ts":1379384381982,"patch":[[{"diffs":[[0,"promise."],[-1,"w"],[1,"t"],[0,"hen(\r\n  "]],"start1":7094,"start2":7094,"length1":17,"length2":17}]],"length":11928,"saved":false}
{"ts":1379385899608,"patch":[[{"diffs":[[0," {\r\n        "],[-1,"\r\n        "],[0,""],[1,""],[0,"var self = t"]],"start1":6449,"start2":6449,"length1":34,"length2":24},{"diffs":[[0,");\r\n"],[-1,"        \r\n        console.log(\"Type of result: \",typeof resultString, \"Setting result text:\", resultString);\r\n        \r\n"],[0,"    "]],"start1":6536,"start2":6536,"length1":128,"length2":8},{"diffs":[[0,"e;\r\n"],[-1,"        //console.log('slow text input:', text, textElement[0]);\r\n"],[0,"    "]],"start1":6799,"start2":6799,"length1":74,"length2":8},{"diffs":[[0,"    "],[-1,"//"],[0,"return"],[-1," promise;\r\n        promise ="],[0," sel"]],"start1":6843,"start2":6843,"length1":44,"length2":14},{"diffs":[[0,"ype("],[-1,"\r\n                textElement[0], \r\n                text, \r\n                30, \r\n               "],[1,"textElement[0], text, 30,"],[0," tru"]],"start1":6905,"start2":6905,"length1":105,"length2":33},{"diffs":[[0,"ue\r\n"],[-1,"                    //console.log(index, length, parseFloat((index + 1) / length).toFixed(2));\r\n"],[0,"    "]],"start1":7085,"start2":7085,"length1":104,"length2":8},{"diffs":[[0,"   )"],[-1,";\r\n        return promise"],[0,""],[1,""],[0,";\r\n "]],"start1":7217,"start2":7217,"length1":33,"length2":8}]],"length":11509,"saved":false}
