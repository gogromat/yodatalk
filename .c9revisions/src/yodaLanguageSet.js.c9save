{"ts":1379207336048,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// Simple wrapper for languages\r\n(function () {\r\n    \r\n    var root = this;\r\n    \r\n    var YodaLanguageSet = function () {\r\n        this.languages = root.Languages;\r\n        this.current;\r\n        this.currentFormat;\r\n        this.currentTranslator;\r\n        return this;\r\n    };\r\n    \r\n    YodaLanguageSet.prototype.setLanguageSet = function (abbreviation) {\r\n        var lang_abbr = abbreviation;\r\n        \r\n        console.log(abbreviation);\r\n        \r\n        if (abbreviation === \"bing\") {\r\n            lang_abbr = \"bt\";\r\n            this.currentFormat = this.getLanguageFormat(lang_abbr);\r\n            this.currentTranslator = new root.BingTranslator();\r\n        } else if (abbreviation === \"google\" || abbreviation === \"sangdol\" || abbreviation === \"stichoza\") {\r\n            lang_abbr = \"gt\";\r\n            this.currentFormat = this.getLanguageFormat(lang_abbr);\r\n            if (abbreviation === \"stichoza\") {\r\n                this.currentTranslator = new root.StichozaTranslator();\r\n            } else {\r\n                this.currentTranslator = new root.SangdolTranslator();\r\n            } \r\n        } else if (abbreviation === \"mymem\") {\r\n            lang_abbr = \"RFC3066\";\r\n            this.currentFormat = this.getLanguageFormat(lang_abbr);\r\n            this.currentTranslator = new root.MyMemoryTranslator();\r\n        }\r\n        \r\n        if (this[abbreviation] == null) this[abbreviation] = this.languages.getByAbbreviation(lang_abbr);\r\n        this.current = this[abbreviation];\r\n        return this.current;\r\n    };\r\n    \r\n    YodaLanguageSet.prototype.getLanguageFormat = function (abbr) {\r\n        return function (el) {\r\n            return {\r\n                name: el.name,\r\n                value: el.abbreviation[abbr]\r\n            };\r\n        };\r\n    }\r\n    \r\n    YodaLanguageSet.prototype.getCurrentTranslator = function () {\r\n        return this.currentTranslator;  \r\n    };\r\n    \r\n    \r\n    var YodaCurrentLanguageSet = new YodaLanguageSet();\r\n    // Set bing for now\r\n    YodaCurrentLanguageSet.setLanguageSet(\"bing\");\r\n    \r\n    root.YodaCurrentLanguageSet = YodaCurrentLanguageSet;\r\n    \r\n}).call(this);\r\n"]],"start1":0,"start2":0,"length1":0,"length2":2133}]],"length":2133}
{"contributors":[],"silentsave":false,"ts":1379207315104,"patch":[[{"diffs":[[0,"        "],[1,"//"],[0,"console."]],"start1":410,"start2":410,"length1":16,"length2":18}]],"length":2135,"saved":false}
